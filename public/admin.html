<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel Administrativo - E.E. Florentino Arnaldo Coelho</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="stylesheet" href="assets/css/admin.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
</head>

<body>

    <div id="dashboard" class="dashboard-container">
        <nav class="navbar navbar-dark bg-dark">
            <div class="container-fluid">
                <span class="navbar-brand mb-0 h1">Painel Administrativo</span>
                <button class="btn btn-outline-light" id="logout-btn">Sair</button>
            </div>
        </nav>

        <div class="container-fluid mt-4">
            <ul class="nav nav-tabs mb-4" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="eventos-tab" data-bs-toggle="tab"
                        data-bs-target="#eventos-panel" type="button" role="tab">Eventos</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="matriculas-tab" data-bs-toggle="tab" data-bs-target="#matriculas-panel"
                        type="button" role="tab">Matrículas</button>
                </li>
            </ul>

            <div class="tab-content">
                <div class="tab-pane fade show active" id="eventos-panel" role="tabpanel">
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <div>
                            <h3 class="mb-1">Gerenciar Eventos</h3>
                            <p class="text-muted mb-0">Crie, edite ou exclua eventos escolares</p>
                        </div>
                        <button class="btn btn-primary btn-lg" id="btn-novo-evento" data-bs-toggle="modal" data-bs-target="#eventoModal">
                            <i class="fas fa-plus-circle me-1"></i> Novo Evento
                        </button>
                    </div>

                    <div id="eventos-list" class="row">
                        <div id="eventos-vazio" class="col-12 text-center py-5" style="display: none;">
                            <h4 class="text-muted">Nenhum evento cadastrado.</h4>
                            <p class="text-muted">Clique em "Novo Evento" para começar.</p>
                        </div>
                        
                        <div id="eventos-loading" class="col-12 text-center py-5">
                            <div class="spinner-border text-primary" role="status">
                                <span class="visually-hidden">Carregando...</span>
                            </div>
                            <p class="text-muted mt-2">Carregando eventos...</p>
                        </div>
                        
                    </div>
                </div>

                <div class="tab-pane fade" id="matriculas-panel" role="tabpanel">
                    <div class="mb-4">
                        <h3 class="mb-1">Gerenciar Matrículas</h3>
                        <p class="text-muted mb-0">Visualize e gerencie o status das pré-matrículas</p>
                    </div>
                    <div id="matriculas-list">
                        <div id="matriculas-vazio" class="text-center py-5" style="display: none;">
                            <h4 class="text-muted">Nenhuma pré-matrícula encontrada.</h4>
                            <p class="text-muted">Os dados de novas matrículas aparecerão aqui.</p>
                        </div>
                        
                        <div id="matriculas-loading" class="text-center py-5">
                            <div class="spinner-border text-primary" role="status">
                                <span class="visually-hidden">Carregando...</span>
                            </div>
                            <p class="text-muted mt-2">Carregando matrículas...</p>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="eventoModal" tabindex="-1" aria-labelledby="eventoModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="eventoModalLabel">Novo Evento</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    
                    <form id="evento-form" novalidate>
                        <div class="modal-body">
                            <input type="hidden" id="evento-id"> 
                            
                            <div class="mb-3">
                                <label for="evento-titulo" class="form-label">Título do Evento</label>
                                <input type="text" class="form-control" id="evento-titulo" required>
                            </div>
                            <div class="mb-3">
                                <label for="evento-introducao" class="form-label">Introdução</label>
                                <textarea class="form-control" id="evento-introducao" rows="3" required></textarea>
                            </div>
                            <div class="mb-3">
                                <label for="evento-secao-imagem" class="form-label">Imagem Principal</label>
                                <input type="file" class="form-control" id="evento-secao-imagem" accept="image/*"
                                    onchange="previewImagemPrincipal(event)">
                                <small class="form-text text-muted">A imagem é armazenada em Base64 para envio à API.</small>
                                <div id="preview-imagem-principal" class="mt-2" style="display: none;">
                                    <img id="img-preview-principal" src="" alt="Preview"
                                        style="max-width: 200px; max-height: 200px; border-radius: 8px; border: 2px solid #dee2e6;">
                                </div>
                            </div>
                            <div class="mb-3">
                                <label for="evento-layout" class="form-label">Layout</label>
                                <select class="form-select" id="evento-layout">
                                    <option value="image-left">Imagem à Esquerda</option>
                                    <option value="image-right">Imagem à Direita</option>
                                </select>
                            </div>
                            <div class="mb-3">
                                <label for="evento-data" class="form-label">Data do Evento</label>
                                <input type="date" class="form-control" id="evento-data" required>
                            </div>
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" id="evento-ativo" checked>
                                <label class="form-check-label" for="evento-ativo">
                                    <strong>Evento Ativo</strong>
                                    <small class="d-block text-muted">Desmarque para ocultar este evento no site público</small>
                                </label>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                            <button type="submit" class="btn btn-primary" id="salvar-evento-btn">Salvar</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div> 
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/js/all.min.js"></script>
    <script src="assets/scripts/admin.js"></script>
</body>

</html>